<!DOCTYPE html><html><head><title>Admin - Beatrice's AnQR</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="/index.c369612b.css" type="text/css" rel="stylesheet"><script type="module" src="/index.ea4637af.js"></script><script src="/index.dd57a6d8.js" nomodule defer></script></head><body class="flex h-full items-center justify-center selection:bg-purple-500"> <div x-cloak x-data="listPage" class="bg-[url('gummianka.png?width=356')] bg-center bg-contain bg-purple-100 border border-purple-300 h-full m-1 max-h-9/10 max-w-2xl min-w-md rounded-lg shadow-lg text-center w-full"> <div class="bg-white/70 h-full max-h-9/10 p-4"> <h1 class="font-bold text-2xl text-purple-800"> Admin - Beatrice's QuackTrack </h1> <template x-if="!apiKeyEntered"> <div> <p>Enter the Admin API key</p> <input type="text" x-model="apiKey" @keyup.enter="saveApiKey" class="border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 p-2 rounded" placeholder="Admin API key"> </div> </template> <template x-if="apiKeyEntered"> <div></div> </template> <div x-data="{ activeTab: 'tab1' }"> <div class="border-b flex"> <button @click="activeTab = 'tab1'" :class="activeTab === 'tab1' ? 'border-blue-500 text-blue-500' : 'border-transparent text-gray-500'" class="border-b-2 focus:outline-none font-medium px-4 py-2"> Scores </button> <button @click="activeTab = 'tab2'" :class="activeTab === 'tab2' ? 'border-blue-500 text-blue-500' : 'border-transparent text-gray-500'" class="border-b-2 focus:outline-none font-medium px-4 py-2"> Sightings </button> </div> <div class="px-4"> <div x-show="activeTab === 'tab1'"> <button @click="scoreSightings" class="bg-purple-500 hover:bg-purple-600 m-4 px-4 py-2 rounded text-white"> Load scores </button>  <table x-show="Object.keys(scores).length > 0" class="border border-collapse border-gray-300 min-w-full py-30 rounded-lg shadow-lg"> <thead> <tr class="bg-purple-200/70 leading-normal text-purple-700 text-sm uppercase"> <th class="border-b border-purple-300 px-2 py-2 text-left w-10"> User </th> <th class="border-b border-purple-300 px-2 py-2 text-left"> Nicks </th> <th class="border-b border-purple-300 px-2 py-2 text-left"> Points </th> <th class="border-b border-purple-300 px-2 py-2 text-left"> #1s </th> <th class="border-b border-purple-300 px-2 py-2 text-left"> Ducks </th> </tr> </thead> <tbody> <template x-for="[user_id, score] in Object.entries(scores).sort((a, b) => b[1].points - a[1].points)"> <tr class="border-b border-purple-200 hover:bg-purple-100/70"> <td :title="user_id" class="px-2 py-2 text-left"> <svg width="40" height="40" x-bind:data-jdenticon-value="user_id" class="h-8 rounded-full w-8" x-text="user_id" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg> </td> <td class="px-2 py-2 text-left" x-text="Array.from(score.nicks).join(', ')"></td> <td class="px-2 py-2 text-left" x-text="score.points"></td> <td x-text="score.firsts" class="px-2 py-2 text-left"></td> <td x-text="score.ducks.size" class="px-2 py-2 text-left"></td> </tr> </template> </tbody> </table> </div> <div x-show="activeTab === 'tab2'"> <button @click="loadData" class="bg-purple-500 hover:bg-purple-600 m-4 px-4 py-2 rounded text-white" x-text="loadText"></button>  <table x-show="items.length > 0" class="border border-collapse border-gray-300 min-w-full py-30 rounded-lg shadow-lg"> <thead> <tr class="bg-purple-200/70 leading-normal text-purple-700 text-sm uppercase"> <th class="border-b border-purple-300 px-2 py-2 text-left w-10"> User </th> <th class="border-b border-purple-300 px-2 py-2 text-left"> Nick </th> <th class="border-b border-purple-300 px-2 py-2 text-left"> Duck </th> <th class="border-b border-purple-300 px-2 py-2 text-left"> When </th> </tr> </thead> <tbody> <template x-for="item in items" :key="item.timestamp"> <tr class="border-b border-purple-200 hover:bg-purple-100/70"> <td :title="item.user_id" class="px-2 py-2 text-left"> <svg width="40" height="40" x-bind:data-jdenticon-value="item.user_id" class="h-8 rounded-full w-8" x-text="item.user_id" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg> </td> <td class="px-2 py-2 text-left" x-text="item.nickname"></td> <td :title="item.duck_id" class="px-2 py-2 text-left"> <svg width="40" height="40" x-bind:data-jdenticon-value="item.duck_id" class="h-8 rounded-full w-8" x-text="item.duck_id" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg> </td> <td class="px-2 py-2 text-left" x-text="formatDate(epochToDate(item.timestamp))"></td> </tr> </template> </tbody> </table> </div> </div> </div> </div> </div> </body></html>